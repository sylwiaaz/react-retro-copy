(this.webpackJsonptaskapp=this.webpackJsonptaskapp||[]).push([[0],{293:function(e,t,n){e.exports=n(542)},298:function(e,t,n){},496:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=(n(298),n(7)),u=n(10),l=n(25),s=n(47),d=n(9),m=n(12),f=[],p=Object(s.b)(f,{LOAD_BOARDS:function(e,t){return t.payload.boards},REMOVE_BOARD:function(e,t){var n=t.payload.boardID;return e.filter((function(e){return e.id!==n}))},ADD_BOARD:function(e,t){return[].concat(Object(u.a)(e),[Object(m.a)({},t.payload)])},ADD_COLUMN:function(e,t){var n=t.payload.column,a=n.id,r=n.boardID;return e.map((function(e){return e.id===r?Object(m.a)({},e,{columnsByID:[].concat(Object(u.a)(e.columnsByID),[a])}):e}))},REMOVE_COLUMN:function(e,t){var n=t.payload,a=n.columnID,r=n.boardID;return e.map((function(e){return e.id===r?Object(m.a)({},e,{columnsByID:e.columnsByID.filter((function(e){return a!==e}))}):e}))},REORDER_COLUMNS:function(e,t){var n=t.payload,a=n.boardID,r=n.sourceIndex,c=n.destinationIndex;return e.map((function(e){if(e.id===a){var t=Object(u.a)(e.columnsByID),n=t.splice(r,1);return t.splice.apply(t,[c,0].concat(Object(u.a)(n))),Object(m.a)({},e,{columnsByID:t})}return e}))}}),b=Object(s.b)(f,{LOAD_DATA:function(e,t){return t.payload.columns},ADD_COLUMN:function(e,t){return[].concat(Object(u.a)(e),[t.payload.column])},REMOVE_COLUMN:function(e,t){return e.filter((function(e){return e.id!==t.payload.columnID}))},EDIT_COLUMN_NAME:function(e,t){var n=t.payload,a=n.columnID,r=n.columnName;return e.map((function(e){return e.id===a&&e.name!==r?Object(m.a)({},e,{name:r}):Object(m.a)({},e)}))},ADD_NOTE:function(e,t){var n=t.payload.note,a=n.columnID,r=n.id;return e.map((function(e){return e.id===a?Object(m.a)({},e,{notesByID:[].concat(Object(u.a)(e.notesByID),[r])}):e}))},REMOVE_NOTE:function(e,t){var n=t.payload,a=n.columnID,r=n.noteID;return e.map((function(e){if(e.id===a){var t=e.notesByID.filter((function(e){return e!==r}));return Object(m.a)({},e,{notesByID:t})}return e}))},REORDER_NOTES:function(e,t){var n=t.payload,a=n.sourceIndex,r=n.destinationIndex,c=n.sourceID,o=n.destinationID,i=e.find((function(e){return e.id===c}));if(i){var l=Object(u.a)(i.notesByID),s=l.splice(a,1),f=Object(d.a)(s,1)[0];return e.map((function(e){if(e.id===c&&c===o)return l.splice(r,0,f),Object(m.a)({},e,{notesByID:l});if(e.id===c&&c!==o)return Object(m.a)({},e,{notesByID:l});if(e.id===o&&c!==o){var t=Object(u.a)(e.notesByID);return t.splice(r,0,f),Object(m.a)({},e,{notesByID:t})}return e}))}}}),E=Object(s.b)(f,{LOAD_DATA:function(e,t){return t.payload.notes},ADD_NOTE:function(e,t){var n=t.payload.note;return[].concat(Object(u.a)(e),[n])},REMOVE_NOTE:function(e,t){return e.filter((function(e){return e.id!==t.payload.noteID}))},EDIT_NOTE_CONTENT:function(e,t){var n=t.payload,a=n.noteID,r=n.content;return e.map((function(e){return e.id===a&&e.content!==r?Object(m.a)({},e,{content:r}):Object(m.a)({},e)}))},HANDLE_LIKE:function(e,t){var n=t.payload,a=n.noteID,r=n.likeAuthor;return e.map((function(e){if(e.id===a){var t=Object(u.a)(e.likes);return t.includes(r)?t=t.filter((function(e){return e!==r})):t.push(r),Object(m.a)({},e,{likes:t})}return e}))},REMOVE_COLUMN:function(e,t){var n=t.payload.notesIDs,a=Object(u.a)(e);return n.forEach((function(t){a=e.filter((function(e){return e.id!==t}))})),a}}),h=Object(s.c)({name:"auth",initialState:{user:null,isAuth:!1},reducers:{login:function(e,t){e.user=t.payload,e.isAuth=!0},logout:function(e){e.user=null,e.isAuth=!1},signup:function(e,t){console.log(t),e.user=t.payload,e.isAuth=!0}}}),O=h.actions,v=O.logout,D=O.signup,y=O.login,j=function(e){return e.firebase.auth},I=h.reducer,g=n(78),N=n(128),w=Object(l.c)({boards:p,columns:b,notes:E,auth:I,firebase:g.firebaseReducer,firestore:N.firestoreReducer}),k=Object(s.a)({reducer:w,middleware:Object(u.a)(Object(s.d)({serializableCheck:!1}))}),x=n(96),A=n.n(x),B=(n(494),n(495),A.a.initializeApp({apiKey:"AIzaSyATCY-nJvCHD3QcO9RagpZuJ5r6HEmUYwM",authDomain:"taskapp-42466.firebaseapp.com",databaseURL:"https://taskapp-42466.firebaseio.com",projectId:"taskapp-42466",storageBucket:"taskapp-42466.appspot.com",messagingSenderId:"606669051532",appId:"1:606669051532:web:19a94f1dc32b3021940da9"}),A.a.firestore()),C=A.a.auth(),R={firebase:A.a,dispatch:k.dispatch,createFirestoreInstance:N.createFirestoreInstance,config:{userProfile:"users",useFirestoreForProfile:!0}},_=(n(496),n(22)),S=n(20),T=n(575),L=function(e){var t=e.children,n=Object(i.d)(j);return Object(g.isLoaded)(n)?t:r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement(T.a,{size:200}))},M=function(){return r.a.createElement("ul",{className:"links-list"},r.a.createElement("li",null,r.a.createElement(_.b,{to:"/register",className:"auth-btn"},"Sign up")),r.a.createElement("li",null,r.a.createElement(_.b,{to:"/login",className:"auth-btn"},"Log in")))},P=n(587),U=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.firebase.profile})).initials;return r.a.createElement("ul",{className:"links-list"},r.a.createElement("li",null,r.a.createElement(_.b,{to:"/"},r.a.createElement(P.a,null,t))),r.a.createElement("li",null,r.a.createElement(_.b,{to:"/",onClick:function(){C.signOut().then((function(){e(v())}))},className:"auth-btn"},"Log out")))},z=(n(498),function(){var e=Object(i.d)(j);return r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement(_.b,{to:"/",className:"app-name"},"Taskapp"),e.uid?r.a.createElement(U,null):r.a.createElement(M,null))}),q=(n(499),function(e){var t=e.children;return r.a.createElement("div",{className:"container"},r.a.createElement(z,null),r.a.createElement("div",{className:"content-wrapper"},t))}),F=n(2),V=function(e){var t=e.component,n=e.isAuth,a=Object(F.a)(e,["component","isAuth"]);return r.a.createElement(S.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(S.a,{to:"/"}):r.a.createElement(t,e)}}))},W=function(e){var t=e.component,n=e.isAuth,a=Object(F.a)(e,["component","isAuth"]);return r.a.createElement(S.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(S.a,{to:"/login"})}}))},H=n(18),J=n(583),K=n(590),Y=n(591),$=n(589),Q=n(592),Z=n(580),G=n(582),X=n(586),ee=n(133),te=n.n(ee),ne=n(134),ae=n.n(ne),re=n(584),ce=function(e){return r.a.createElement(re.a,Object.assign({elevation:6,variant:"filled"},e))},oe=function(){var e=Object(i.c)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(!1),l=Object(d.a)(u,2),s=l[0],f=l[1],p=Object(a.useState)({password:"",showPassword:!1,email:""}),b=Object(d.a)(p,2),E=b[0],h=b[1],O=function(e){return function(t){h(Object(m.a)({},E,Object(H.a)({},e,t.target.value)))}},v=function(e,t){"clickaway"!==t&&f(!1)};return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{className:"login-form form",onSubmit:function(t){var n=E.password,a=E.email;t.preventDefault(),C.signInWithEmailAndPassword(a,n).then((function(){e(y({email:a}))})).catch((function(e){o(e.message),f(!0)}))}},r.a.createElement("h4",{className:"form-title"},"Login"),r.a.createElement(J.a,{name:"email",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email address",value:E.email,onChange:O("email")}),r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,required:!0},r.a.createElement(Y.a,{htmlFor:"password"},"Password"),r.a.createElement($.a,{id:"password",type:E.showPassword?"text":"password",value:E.password,onChange:O("password"),endAdornment:r.a.createElement(Q.a,{position:"end"},r.a.createElement(Z.a,{"aria-label":"toggle password visibility",onClick:function(){h(Object(m.a)({},E,{showPassword:!E.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},E.showPassword?r.a.createElement(te.a,null):r.a.createElement(ae.a,null)))})),r.a.createElement("span",{className:"required-info"},"* this fields are required"),r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!function(){var e=E.email,t=E.password;return!!e&&t.length>7}()},"Login"),r.a.createElement(_.b,{to:"/register",className:"link-to"},"Don't have an account? Sign Up")),r.a.createElement(X.a,{open:s,autoHideDuration:5e3,onClose:v},r.a.createElement(ce,{onClose:v,severity:"error"},c)))},ie=n(581),ue=(n(501),function(){var e=new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+[.][a-z]{2,}$/),t=Object(i.c)(),n=Object(a.useState)(!1),c=Object(d.a)(n,2),o=c[0],u=c[1],l=Object(a.useState)(""),s=Object(d.a)(l,2),f=s[0],p=s[1],b=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",showPassword:!1,errors:{email:"",password:"",lastName:"",firstName:""}}),E=Object(d.a)(b,2),h=E[0],O=E[1],v=function(t){var n,a,r=t.target,c=r.name,o=r.value;switch(c){case"email":a=e.test(o)?"":"Enter valid email address";break;case"password":a=o.length<8?"Password must be 8 characters long!":"";break;case"firstName":case"lastName":a=o.length<3?"This field should contain at least 3 characters.":"";break;default:a=""}O(Object(m.a)({},h,(n={},Object(H.a)(n,c,o),Object(H.a)(n,"errors",Object(m.a)({},h.errors,Object(H.a)({},c,a))),n)))},y=function(e,t){"clickaway"!==t&&u(!1)};return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{className:"register-form form",onSubmit:function(e){var n=h.firstName,a=h.lastName,r=h.email,c=h.password;e.preventDefault(),C.createUserWithEmailAndPassword(r,c).then((function(e){e.user&&B.collection("users").doc(e.user.uid).set({firstName:n,lastName:a,initials:n[0].toUpperCase()+a[0].toUpperCase(),email:r})})).then((function(){t(D({firstName:n,lastName:a,email:r}))})).catch((function(e){p(e.message),u(!0)}))},noValidate:!0},r.a.createElement("h4",{className:"form-title"},"Register"),r.a.createElement(J.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",value:h.firstName,onChange:v,helperText:h.errors.firstName,error:!!h.errors.firstName}),r.a.createElement(J.a,{name:"lastName",variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",value:h.lastName,onChange:v,helperText:h.errors.lastName,error:!!h.errors.lastName}),r.a.createElement(J.a,{name:"email",variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",value:h.email,onChange:v,helperText:h.errors.email,error:!!h.errors.email}),r.a.createElement(K.a,{variant:"outlined",fullWidth:!0,required:!0,error:!!h.errors.password},r.a.createElement(Y.a,{htmlFor:"password"},"Password"),r.a.createElement($.a,{id:"password",name:"password",type:h.showPassword?"text":"password",value:h.password,onChange:v,endAdornment:r.a.createElement(Q.a,{position:"end"},r.a.createElement(Z.a,{"aria-label":"toggle password visibility",onClick:function(){O(Object(m.a)({},h,{showPassword:!h.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},h.showPassword?r.a.createElement(te.a,null):r.a.createElement(ae.a,null)))}),r.a.createElement(ie.a,{error:!0},h.errors.password)),r.a.createElement("span",{className:"required-info"},"* this fields are required"),r.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:!function(){var t=h.firstName,n=h.lastName,a=h.email,r=h.password;return t.length>3&&n.length>3&&e.test(a)&&r.length>7}()},"Sign up"),r.a.createElement(_.b,{to:"/login",className:"link-to"},"Already have an account? Sign in")),r.a.createElement(X.a,{open:o,autoHideDuration:5e3,onClose:y},r.a.createElement(ce,{onClose:y,severity:"error"},f)))}),le=n(13),se=n.n(le),de=n(31),me=function(e){var t=[];return B.collection("boards").where("authorID","==",e).get().then((function(e){return e.docs.forEach((function(e){var n=Object(m.a)({},e.data(),{id:e.id});t.push(n)})),t}))},fe=function(e,t){return B.collection("boards").add({authorID:e,boardTitle:t,columnsByID:[]})},pe=function(e){return["columns","notes"].forEach((function(t){var n=B.collection(t);n.where("boardID","==",e).get().then((function(e){e.docs.map((function(e){return e.id})).forEach((function(e){return n.doc(e).delete()}))}))})),B.collection("boards").doc(e).delete()},be=function(e,t){var n=e.map((function(e){return B.collection(e).where("boardID","==",t).get().then((function(e){var t=[];return e.docs.forEach((function(e){t.push(Object(m.a)({},e.data(),{id:e.id}))})),t}))}));return Promise.all(n)},Ee=function(e,t,n){var a,r=B.collection("boards").doc(e);r.get().then((function(e){a=e.data();var c=Object(u.a)(a.columnsByID),o=c.splice(t,1);c.splice.apply(c,[n,0].concat(Object(u.a)(o))),r.update("columnsByID",c)}))},he=function(e,t,n){var a,r=B.collection("boards").doc(n);return r.get().then((function(e){return a=e.data()})).then((function(){return B.collection("columns").add({authorID:e,name:t,boardID:n,notesByID:[]})})).then((function(e){return r.update("columnsByID",[].concat(Object(u.a)(a.columnsByID),[e.id])),e}))},Oe=function(e,t,n){var a,r=B.collection("boards").doc(t);return r.get().then((function(e){return a=e.data()})).then((function(){return r.update("columnsByID",a.columnsByID.filter((function(t){return e!==t})))})).then((function(){return n.forEach((function(e){return B.collection("notes").doc(e).delete()}))})).then((function(){return B.collection("columns").doc(e).delete()}))},ve=function(e,t){return B.collection("columns").doc(t).update("name",e)},De=function(e,t,n,a,r,c){var o,i,l=B.collection("columns").doc(n),s=B.collection("columns").doc(a);l.get().then((function(e){o=e.data();var t=Object(u.a)(o.notesByID);t.splice(r,1),l.update("notesByID",t)})).then((function(){s.get().then((function(e){i=e.data();var n=Object(u.a)(i.notesByID);n.splice(c,0,t),s.update("notesByID",n)}))}))},ye=function(e,t,n,a){var r,c=B.collection("columns").doc(n);return c.get().then((function(e){return r=e.data()})).then((function(){return B.collection("notes").add({authorID:e,boardID:a,likes:[],content:t,columnID:n})})).then((function(e){return c.update("notesByID",[].concat(Object(u.a)(r.notesByID),[e.id])),e}))},je=function(e,t){var n,a=B.collection("columns").doc(t);return a.get().then((function(e){return n=e.data()})).then((function(){return a.update("notesByID",n.notesByID.filter((function(t){return e!==t})))})).then((function(){return B.collection("notes").doc(e).delete()}))},Ie=function(e,t){return B.collection("notes").doc(e).update("content",t)},ge=function(e,t){var n,a,r=B.collection("notes").doc(e);return r.get().then((function(e){n=e.data(),a=n.likes.find((function(e){return t===e}))?n.likes.filter((function(e){return e!==t})):[].concat(Object(u.a)(n.likes),[t]),r.update("likes",a)}))},Ne=function(e){return function(){var t=Object(de.a)(se.a.mark((function t(n){var a;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e);case 2:a=t.sent,n({type:"LOAD_BOARDS",payload:{boards:a}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=(n(503),n(135)),ke=n.n(we),xe=function(e){var t=e.title,n=e.id,a=Object(i.c)();return r.a.createElement("div",{className:"board-item"},r.a.createElement(_.b,{to:"board/".concat(n)},t),r.a.createElement("button",{className:"remove-btn"},r.a.createElement(ke.a,{className:"icon",onClick:function(){var e;a((e=n,function(){var t=Object(de.a)(se.a.mark((function t(n){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(e);case 2:n({type:"REMOVE_BOARD",payload:{boardID:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}})))},Ae=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.boards})),n=Object(i.d)((function(e){return e.firebase.auth.uid})),c=Object(a.useState)(""),o=Object(d.a)(c,2),u=o[0],l=o[1];Object(a.useEffect)((function(){e(Ne(n))}),[e,n]);var s=t.map((function(e){return r.a.createElement(xe,{id:e.id,title:e.boardTitle,key:e.id})}));return r.a.createElement("div",{className:"boards-container"},r.a.createElement("h3",{className:"pick-board"},"Pick a board..."),r.a.createElement("div",{className:"boards-list"},s.length?s:r.a.createElement("p",{className:"no-boards"},"You don't have any boards. Add a new one below!"),r.a.createElement("form",{className:"add-board"},r.a.createElement("input",{className:"add-field",placeholder:"Board title..",value:u,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"add-btn",onClick:function(t){t.preventDefault(),e(function(e,t){return function(){var n=Object(de.a)(se.a.mark((function n(a){var r;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe(e,t);case 2:r=n.sent,a({type:"ADD_BOARD",payload:{boardTitle:t,authorID:e,id:r.id,columnsByID:[]}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,u)),l("")}},"Add"))))},Be=(n(504),n(279)),Ce=function(e){var t=e.onBlur,n=e.value,a=e.onChange,c=e.placeholder;return r.a.createElement(Be.a,{autoFocus:!0,placeholder:c||null,onBlur:t,value:n,onChange:a,onFocus:function(e){var t=e.target,n=t.value;t.value="",t.value=n},onKeyDown:function(e){!function(e,t){"Enter"===e.key&&t()}(e,t)}})},Re=(n(505),n(50)),_e=n(283),Se=n.n(_e),Te=function(e){var t=e.id,n=e.columnID,c=e.index,o=e.content,u=e.likes,l=Object(i.c)(),s=Object(i.d)((function(e){return e.firebase.auth.uid})),m=Object(a.useState)(!!u.find((function(e){return e===s}))),f=Object(d.a)(m,2),p=f[0],b=f[1],E=Object(a.useState)(o),h=Object(d.a)(E,2),O=h[0],v=h[1],D=Object(a.useState)(!1),y=Object(d.a)(D,2),j=y[0],I=y[1],g=function(){l(function(e,t){return function(){var n=Object(de.a)(se.a.mark((function n(a){return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t);case 2:a({type:"REMOVE_NOTE",payload:{noteID:e,columnID:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},N=function(){var e,n;l((e=t,n=s,function(){var t=Object(de.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e,n);case 2:a({type:"HANDLE_LIKE",payload:{noteID:e,likeAuthor:n}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),b(!p)},w=function(){I(!0)},k=function(e){v(e.target.value)},x=function(){I(!1),O.trim()&&l(function(e,t){return function(){var n=Object(de.a)(se.a.mark((function n(a){return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ie(e,t);case 2:a({type:"EDIT_NOTE_CONTENT",payload:{noteID:e,content:t}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,O))};return r.a.createElement(Re.b,{draggableId:t,index:c},(function(e){return r.a.createElement("div",Object.assign({className:"note",ref:e.innerRef},e.draggableProps,e.dragHandleProps),j?r.a.createElement(Ce,{value:O,onBlur:x,onChange:k}):r.a.createElement("p",{className:"note-content",onClick:w},o),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:g,className:"remove-btn"},r.a.createElement(ke.a,{className:"icon",style:{fontSize:16}})),r.a.createElement("button",{onClick:N,className:"like-btn"},u&&u.length?r.a.createElement("span",{className:"likes-amount"},u.length):null,r.a.createElement(Se.a,{className:p?"icon liked-icon":"icon",style:{fontSize:16}}))))}))},Le=(n(540),n(284)),Me=n.n(Le),Pe=function(e){var t=e.columnID,n=e.column,c=e.btnStyle,o=Object(i.c)(),u=Object(S.g)().boardID,l=Object(i.d)((function(e){return e.firebase.auth.uid})),s=Object(a.useState)(!1),m=Object(d.a)(s,2),f=m[0],p=m[1],b=Object(a.useState)(""),E=Object(d.a)(b,2),h=E[0],O=E[1],v=function(){p(!0)},D=function(e){O(e.target.value)},y=function(){h.trim()&&o(function(e,t,n){return function(){var a=Object(de.a)(se.a.mark((function a(r){var c;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,he(e,t,n);case 2:c=a.sent,r({type:"ADD_COLUMN",payload:{column:{name:t,id:c.id,boardID:n,notesByID:[]}}});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(l,h,u)),O("")},j=function(){h.trim()&&t&&o(function(e,t,n,a){return function(){var r=Object(de.a)(se.a.mark((function r(c){var o;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ye(e,t,n,a);case 2:o=r.sent,c({type:"ADD_NOTE",payload:{note:{content:t,columnID:n,id:o.id,likes:[],boardID:a}}});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(l,h,t,u)),O("")},I=function(){p(!1),n?y():j()};return f?function(){var e=n?"Enter a column title":"Enter a note text",t=n?"Add column":"Add note",a=n?"column-form":"note-form";return r.a.createElement("div",{className:a},r.a.createElement(Ce,{placeholder:e,onBlur:I,value:h,onChange:D}),r.a.createElement("button",{className:"add-btn",onMouseDown:n?y:j},t))}():function(){var e=n?"New column":"Create a note";return r.a.createElement("button",{className:c,onClick:v},r.a.createElement(Me.a,{className:"plus-icon"}),e)}()},Ue=(n(541),n(285)),ze=n.n(Ue),qe=function(e){var t=e.id,n=e.index,c=e.boardID,o=Object(i.c)(),u=Object(i.d)((function(e){return e.columns.find((function(e){return e.id===t}))})),l=Object(i.d)((function(e){return e.notes})),s=Object(a.useState)(u?u.name:""),m=Object(d.a)(s,2),f=m[0],p=m[1],b=Object(a.useState)(!1),E=Object(d.a)(b,2),h=E[0],O=E[1],v=function(){o(function(e,t,n){return function(){var a=Object(de.a)(se.a.mark((function a(r){return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Oe(e,t,n);case 2:r({type:"REMOVE_COLUMN",payload:{columnID:e,boardID:t,notesIDs:n}});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,c,u.notesByID))},D=function(){O(!0)},y=function(e){p(e.target.value)},j=function(){var e,n;O(!1),f.trim()&&o((e=t,n=f,function(){var t=Object(de.a)(se.a.mark((function t(a){return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve(n,e);case 2:a({type:"EDIT_COLUMN_NAME",payload:{columnID:e,columnName:n}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},I=u&&u.notesByID?u.notesByID.map((function(e,n){var a=l.find((function(t){return t.id===e}));return r.a.createElement(Te,Object.assign({key:e,id:e},a,{index:n,columnID:t,boardID:c}))})):null;return u?r.a.createElement(Re.b,{draggableId:t,index:n},(function(e){return r.a.createElement("div",Object.assign({className:"column-board"},e.draggableProps,{ref:e.innerRef},e.dragHandleProps),h?r.a.createElement(Ce,{value:f,onChange:y,onBlur:j}):r.a.createElement("h4",{className:"column-name",onClick:D},u?u.name:null),r.a.createElement("button",{className:"remove-btn col",onClick:v},r.a.createElement(ze.a,{className:"trash-icon"})),r.a.createElement(Re.c,{droppableId:t},(function(e){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"notes-container"}),I,e.placeholder,r.a.createElement(Pe,{columnID:t,btnStyle:"create-note"}))})))})):null},Fe=function(){var e=Object(i.c)(),t=Object(S.g)().boardID,n=Object(i.d)((function(e){return e.boards.find((function(e){return e.id===t}))})),c=Object(i.d)((function(e){return e.firebase.auth.uid}));Object(a.useEffect)((function(){n||e(Ne(c)),e(function(e){return function(){var t=Object(de.a)(se.a.mark((function t(n){var a,r,c,o;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(["columns","notes"],e);case 2:a=t.sent,r=Object(d.a)(a,2),c=r[0],o=r[1],n({type:"LOAD_DATA",payload:{columns:c,notes:o}});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]);var o=n&&n.columnsByID?n.columnsByID.map((function(e,n){return r.a.createElement(qe,{key:e,id:e,index:n,boardID:t})})):null;return n?r.a.createElement("div",{className:"board-container"},r.a.createElement("h3",{className:"board-title"},n?n.boardTitle:null),r.a.createElement(Re.a,{onDragEnd:function(n){var a,r,c,o,i,u=n.destination,l=n.source,s=n.draggableId,d=n.type;u&&e("list"===d?function(e,t,n){return function(){var a=Object(de.a)(se.a.mark((function a(r){return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:"REORDER_COLUMNS",payload:{boardID:e,sourceIndex:t,destinationIndex:n}}),a.next=3,Ee(e,t,n);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,l.index,u.index):(a=s,r=l.droppableId,c=l.index,o=u.droppableId,i=u.index,function(){var e=Object(de.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REORDER_NOTES",payload:{sourceIndex:c,destinationIndex:i,sourceID:r,destinationID:o}}),e.next=3,De(0,a,r,o,c,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement("div",{className:"board"},r.a.createElement(Re.c,{direction:"horizontal",type:"list",droppableId:"all-list"},(function(e){return r.a.createElement("div",Object.assign({className:"column-container",ref:e.innerRef},e.droppableProps),o,e.placeholder,r.a.createElement(Pe,{column:!0,btnStyle:"add-column"}))}))))):r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement(T.a,{size:200}))},Ve=function(){var e=!!Object(i.d)(j).uid;return r.a.createElement("div",{className:"App"},r.a.createElement(_.a,{basename:"/taskapp"},r.a.createElement(L,null,r.a.createElement(q,null,r.a.createElement(S.d,null,r.a.createElement(V,{component:oe,path:"/login",exact:!0,isAuth:e}),r.a.createElement(V,{component:ue,path:"/register",exact:!0,isAuth:e}),r.a.createElement(W,{component:Ae,path:"/",exact:!0,isAuth:e}),r.a.createElement(W,{component:Fe,path:"/board/:boardID",exact:!0,isAuth:e}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:k},r.a.createElement(g.ReactReduxFirebaseProvider,R,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[293,1,2]]]);
//# sourceMappingURL=main.23908f79.chunk.js.map